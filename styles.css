:root {
  --bg: #040506;
  --panel: rgba(11, 13, 15, 0.88);
  --panel-soft: rgba(15, 18, 22, 0.72);
  --line: rgba(255, 255, 255, 0.2);
  --text: #f4f5f7;
  --muted: #99a2ad;
  --accent: #d4ff4f;
  --accent-2: #57d7ff;
  --good: #54ffa4;
  --bad: #ff748d;
  color-scheme: dark;
}
body.light {
  --bg: #eef1f4;
  --panel: rgba(255, 255, 255, 0.86);
  --panel-soft: rgba(252, 252, 252, 0.72);
  --line: rgba(0, 0, 0, 0.2);
  --text: #0b0f14;
  --muted: #51606f;
  color-scheme: light;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at 78% 70%, rgba(87, 215, 255, .14), transparent 30%), var(--bg);
  color: var(--text);
  font-family: "Inter", "Segoe UI", system-ui, sans-serif;
  letter-spacing: .01em;
}
.noise,.scanline { pointer-events: none; position: fixed; inset: 0; z-index: 0; }
.noise { background-image: radial-gradient(rgba(255,255,255,.035) 1px, transparent 1px); background-size: 3px 3px; opacity: .12; }
.scanline { background: linear-gradient(to bottom, transparent 49%, rgba(255,255,255,.03) 50%, transparent 51%); background-size: 100% 4px; opacity: .2; }

.glass { background: var(--panel); border: 1px solid var(--line); backdrop-filter: blur(10px); }
.frame {
  position: relative;
  z-index: 1;
  margin: 10px 16px 10px 74px;
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: 14px;
  min-height: calc(100vh - 20px);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
}
.frame::before,.frame::after {
  content: "";
  position: absolute;
  border: 1px solid var(--line);
  width: 18px;
  height: 18px;
}
.frame::before { left: -1px; top: -1px; border-right: 0; border-bottom: 0; border-radius: 16px 0 0 0; }
.frame::after { right: -1px; bottom: -1px; border-left: 0; border-top: 0; border-radius: 0 0 16px 0; }

.icon-rail {
  position: fixed;
  top: 50%; left: 18px; transform: translateY(-50%);
  display: grid; gap: 7px; padding: 7px;
  border-radius: 999px; z-index: 2;
}
.rail-item {
  width: 30px; height: 30px; border-radius: 50%;
  display: grid; place-items: center;
  color: var(--muted); text-decoration: none; font-size: .82rem;
  border: 1px solid transparent; transition: .22s ease;
}
.rail-item:hover,.rail-item.active {
  color: var(--text);
  border-color: var(--accent);
  box-shadow: 0 0 0 2px rgba(212,255,79,.2), 0 0 20px rgba(212,255,79,.25);
}

.hero-top,.page-head {
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  border-bottom: 1px solid var(--line);
  padding: 0 2px 12px;
  margin-bottom: 16px;
  gap: 16px;
}
.tiny-nav { color: var(--muted); font-size: .71rem; letter-spacing: .14em; }
.hero-top h1,.page-head h1 { margin: 0; font-size: .95rem; letter-spacing: .52em; font-weight: 600; }
.theme-toggle {
  width: 34px; height: 34px; border-radius: 50%;
  background: transparent; color: var(--text); border: 1px solid var(--line); cursor: pointer;
}

.transaction-hero {
  min-height: 78vh;
  border-radius: 16px;
  padding: 20px;
  display: grid;
  background: linear-gradient(120deg, rgba(8,10,12,.96), rgba(12,14,17,.7));
  transition: transform .2s ease;
}
.grand-center { place-items: center; align-content: center; }
.eyebrow { color: var(--muted); font-size: .7rem; letter-spacing: .14em; margin: 0 0 8px; }
.eyebrow.center { text-align: center; margin-bottom: 16px; }

.grand-form { width: min(920px, 100%); display: grid; gap: 18px; }
.amount-stage {
  min-height: 220px;
  display: grid;
  place-items: center;
  position: relative;
  isolation: isolate;
}
.amount-stage::before {
  content: "";
  position: absolute;
  inset: 12% 10%;
  z-index: -1;
  background: radial-gradient(circle at 50% 50%, rgba(212,255,79,.15), rgba(87,215,255,.09) 35%, rgba(87,215,255,0) 72%);
  filter: blur(32px);
  border-radius: 50%;
  opacity: .95;
}
.amount-hero {
  width: 100%;
  border: none;
  background: transparent;
  text-align: center;
  font-size: clamp(3rem, 11vw, 8rem);
  font-weight: 900;
  letter-spacing: .02em;
  color: var(--text);
  outline: none;
  transition: text-shadow .2s ease, color .2s ease, opacity .2s ease;
}
.amount-hero::placeholder { color: #8f97a3; opacity: .45; }
.amount-hero:focus,
.amount-hero:not(:placeholder-shown) {
  color: #ffffff;
  text-shadow: 0 0 24px rgba(212,255,79,.35);
}

.compact-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(120px, 1fr));
  gap: 12px;
  padding: 16px;
  border: 1px solid rgba(87, 215, 255, .26);
  border-radius: 16px;
  background:
    linear-gradient(130deg, rgba(87,215,255,.08), transparent 28%),
    linear-gradient(180deg, rgba(6, 10, 16, .88), rgba(7, 10, 15, .6));
  box-shadow:
    inset 0 0 28px rgba(87, 215, 255, .08),
    inset 0 0 0 1px rgba(212,255,79,.08),
    0 16px 40px rgba(0,0,0,.3);
  position: relative;
}
.compact-grid::after {
  content: "";
  position: absolute;
  inset: 10px;
  border: 1px dashed rgba(127,153,186,.16);
  border-radius: 12px;
  pointer-events: none;
}
.mini-field { display: grid; gap: 6px; position: relative; z-index: 1; }
.mini-field span {
  font-size: .64rem;
  color: #9fb2cd;
  letter-spacing: .22em;
  text-transform: uppercase;
  font-family: "Courier New", "Consolas", monospace;
}
.mini-field.wide { grid-column: span 2; }
input,select,button {
  font: inherit;
  color: var(--text);
  background: linear-gradient(180deg, rgba(18, 28, 42, .72), rgba(8, 11, 16, .78));
  border: 1px solid rgba(116, 143, 178, .4);
  border-radius: 10px;
  padding: 11px;
  transition: border-color .22s ease, box-shadow .22s ease, transform .22s ease, background .22s ease;
}
input:hover, select:hover {
  border-color: rgba(87,215,255,.55);
  background: linear-gradient(180deg, rgba(20, 35, 52, .82), rgba(9, 14, 21, .85));
}
input:focus, select:focus {
  border-color: var(--accent-2);
  box-shadow: 0 0 0 2px rgba(87,215,255,.2), inset 0 0 16px rgba(87,215,255,.08);
  outline: none;
  transform: translateY(-1px);
}
.hero-actions { display:flex; align-items: center; gap: 10px; }
.hero-actions.center,.setup-hint.center { justify-content: center; text-align: center; }
.btn-primary,.btn-secondary {
  border: 1px solid rgba(212,255,79,.42);
  background: linear-gradient(140deg, rgba(212,255,79,.22), rgba(87,215,255,.24));
  color: var(--text);
  font-weight: 700;
  letter-spacing: .14em;
  cursor: pointer;
  text-transform: uppercase;
  font-family: "Courier New", "Consolas", monospace;
}
.btn-primary:hover,.btn-secondary:hover {
  border-color: var(--accent);
  box-shadow: 0 0 20px rgba(212,255,79,.18);
}
.ghost-link { text-decoration: none; color: var(--accent-2); font-size: .82rem; letter-spacing: .08em; }
.setup-hint { margin: 0; color: var(--muted); font-size: .8rem; }

.content-page { display:grid; grid-template-columns: repeat(auto-fit,minmax(280px,1fr)); gap: 12px; }
.page-head,.full-span { grid-column: 1 / -1; }
.panel {
  border-radius: 14px;
  padding: 12px;
  position: relative;
  overflow: hidden;
  background:
    linear-gradient(180deg, rgba(10, 15, 22, .72), rgba(10, 12, 16, .72)),
    repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 1px, transparent 1px 22px);
}
.panel::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent, rgba(87,215,255,.08), transparent);
  pointer-events: none;
}
.panel h2 { margin-top: 0; letter-spacing: .06em; text-transform: uppercase; font-size: .95rem; }

.list { list-style: none; margin: 0; padding: 0; display: grid; gap: 8px; }
.list li {
  border: 1px solid rgba(127, 153, 186, .28);
  border-radius: 10px;
  padding: 10px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  background: rgba(5, 9, 13, .45);
}
.list.compact li { align-items: center; }
.badge-income { color: var(--good); }
.badge-expense { color: var(--bad); }

.grid-form { display:grid; grid-template-columns: repeat(2,minmax(150px,1fr)); gap: 10px; }
.stack-form { display:grid; gap: 10px; }
.metric-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(160px,1fr)); gap: 8px; }
.metric-box {
  border: 1px solid rgba(127, 153, 186, .28);
  border-radius: 10px;
  padding: 10px;
  background: rgba(5, 9, 13, .35);
}
.bar-list { display:grid; gap: 8px; }
.bar-track { height: 8px; border: 1px solid rgba(127, 153, 186, .28); border-radius: 999px; overflow: hidden; background: rgba(255,255,255,.04); }
.bar-fill { height: 100%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
.trend-chart { display:flex; align-items:end; gap: 6px; min-height: 220px; padding-bottom: 16px; }
.trend-bar { flex: 1; border-radius: 9px 9px 2px 2px; background: linear-gradient(180deg, var(--accent-2), var(--accent)); position: relative; }
.trend-bar span { position:absolute; bottom: -15px; left:50%; transform: translateX(-50%); font-size: .7rem; color: var(--muted); }

.filter-row { display:flex; gap: 8px; margin-bottom: 8px; }
.table-wrap {
  overflow:auto;
  border: 1px solid rgba(127, 153, 186, .28);
  border-radius: 10px;
  background: rgba(5, 9, 13, .4);
}
table { width: 100%; border-collapse: collapse; }
th,td { padding: 9px; text-align: left; border-bottom: 1px solid rgba(127, 153, 186, .2); }
th { text-transform: uppercase; letter-spacing: .08em; font-size: .72rem; color: var(--muted); }

@media (max-width: 980px) {
  .compact-grid,.grid-form { grid-template-columns: 1fr; }
  .mini-field.wide { grid-column: auto; }
  .amount-stage { min-height: 180px; }
  .amount-stage::before { inset: 16% 5%; }
}

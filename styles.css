:root {
  --bg: #0a0b0d;
  --panel: rgba(9, 12, 16, 0.78);
  --line: rgba(186, 205, 230, 0.24);
  --text: #ecf1f6;
  --muted: #96a5b8;
  --accent: #89c11b;
  --accent-2: #52c9ff;
  --good: #54ffa4;
  --bad: #ff748d;
  color-scheme: dark;
}
body.light {
  --bg: #e9edf2;
  --panel: rgba(255,255,255,0.86);
  --line: rgba(36, 50, 65, 0.2);
  --text: #0b1219;
  --muted: #5f6e80;
  color-scheme: light;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  min-height: 100vh;
  font-family: Inter, system-ui, sans-serif;
  color: var(--text);
  background: radial-gradient(circle at 50% 88%, rgba(82,201,255,.16), transparent 28%), var(--bg);
}
.noise,.scanline { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.noise { background-image: radial-gradient(rgba(255,255,255,.028) 1px, transparent 1px); background-size: 3px 3px; opacity: .13; }
.scanline { background: linear-gradient(to bottom, transparent 49%, rgba(255,255,255,.02) 50%, transparent 51%); background-size: 100% 4px; opacity: .24; }

.glass { background: var(--panel); border: 1px solid var(--line); backdrop-filter: blur(10px); }
.frame {
  position: relative;
  z-index: 1;
  margin: 10px 14px 10px 72px;
  border: 1px solid var(--line);
  border-radius: 18px;
  min-height: calc(100vh - 20px);
  padding: 14px;
}
.icon-rail {
  position: fixed;
  top: 50%; left: 16px; transform: translateY(-50%);
  padding: 7px; border-radius: 999px; z-index: 3;
  display: grid; gap: 7px;
}
.rail-item {
  width: 30px; height: 30px; border-radius: 50%;
  display: grid; place-items: center;
  color: var(--muted); text-decoration: none;
  border: 1px solid transparent; font-size: .84rem;
  transition: .2s ease;
}
.rail-item:hover,.rail-item.active { border-color: var(--accent); color: var(--text); box-shadow: 0 0 18px rgba(137,193,27,.28); }

.hero-top,.page-head {
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap: 16px;
  align-items: center;
  border-bottom: 1px solid var(--line);
  padding: 2px 2px 12px;
  margin-bottom: 16px;
}
.tiny-nav { color: var(--muted); font-size: .72rem; letter-spacing: .14em; }
.hero-top h1,.page-head h1 { margin: 0; font-size: .95rem; letter-spacing: .55em; font-weight: 600; }
.theme-toggle {
  width: 34px; height: 34px; border-radius: 50%;
  border: 1px solid var(--line); background: transparent; color: var(--text); cursor: pointer;
}

.transaction-hero {
  min-height: 82vh;
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(6,8,11,.84), rgba(7,11,16,.74));
  padding: 18px;
}
.grand-center { display: grid; align-content: center; place-items: center; }
.eyebrow { color: var(--muted); font-size: .72rem; letter-spacing: .2em; text-align: center; margin: 0 0 10px; }
.grand-form { width: min(980px, 100%); display: grid; gap: 16px; }

.amount-stage {
  min-height: 220px;
  display: grid;
  place-items: center;
  position: relative;
  isolation: isolate;
}
.amount-stage::before {
  content: "";
  position: absolute;
  inset: 8% 12%;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 50%, rgba(137,193,27,.3), rgba(82,201,255,.12) 38%, rgba(82,201,255,0) 72%);
  filter: blur(34px);
  z-index: -1;
}
.amount-hero {
  width: 100%;
  border: none;
  background: transparent;
  text-align: center;
  font-size: clamp(3.6rem, 12vw, 8.4rem);
  font-weight: 900;
  letter-spacing: .02em;
  color: #f0f4f8;
  outline: none;
  text-shadow: 0 0 22px rgba(137,193,27,.08);
}
.amount-hero::placeholder { color: #a8b2bf; opacity: .42; }
.amount-hero:focus,
.amount-hero:not(:placeholder-shown) { text-shadow: 0 0 28px rgba(137,193,27,.28); }

.meta-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(120px,1fr));
  gap: 10px;
  width: min(930px, 100%);
  padding: 14px;
  border-radius: 14px;
  border: 1px solid rgba(82,201,255,.34);
  background:
    linear-gradient(120deg, rgba(82,201,255,.08), transparent 34%),
    linear-gradient(180deg, rgba(7,10,15,.92), rgba(8,11,15,.66));
  box-shadow: inset 0 0 20px rgba(82,201,255,.08), 0 18px 36px rgba(0,0,0,.3);
}
.meta-item { display: grid; gap: 6px; }
.meta-item span {
  font-size: .64rem;
  color: #a3b7d1;
  letter-spacing: .22em;
  font-family: "Courier New", Consolas, monospace;
}
.meta-item.wide { grid-column: span 2; }
input,select,button {
  font: inherit;
  color: var(--text);
  background: linear-gradient(180deg, rgba(17, 27, 41, .75), rgba(8, 11, 16, .82));
  border: 1px solid rgba(126, 152, 181, .42);
  border-radius: 10px;
  padding: 11px;
  transition: .2s ease;
}
input:hover,select:hover { border-color: rgba(82,201,255,.62); }
input:focus,select:focus {
  outline: none;
  border-color: var(--accent-2);
  box-shadow: 0 0 0 2px rgba(82,201,255,.2), inset 0 0 14px rgba(82,201,255,.08);
  transform: translateY(-1px);
}
.hero-actions { display: flex; align-items: center; justify-content: center; gap: 10px; }
.btn-primary,.btn-secondary {
  border: 1px solid rgba(137,193,27,.5);
  background: linear-gradient(130deg, rgba(137,193,27,.24), rgba(82,201,255,.24));
  color: var(--text);
  text-transform: uppercase;
  letter-spacing: .15em;
  font-family: "Courier New", Consolas, monospace;
  font-weight: 700;
  cursor: pointer;
}
.btn-primary:hover,.btn-secondary:hover { box-shadow: 0 0 20px rgba(137,193,27,.2); border-color: var(--accent); }
.ghost-link { color: var(--accent-2); text-decoration: none; letter-spacing: .08em; font-size: .82rem; }
.setup-hint { margin: 0; color: var(--muted); text-align: center; font-size: .84rem; }

.mode-switch {
  margin-top: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 800;
}
.mode-switch a { color: #d8e0eb; text-decoration: none; letter-spacing: .05em; }
.mode-switch a.active { color: var(--accent); font-size: 2.05rem; line-height: 1; }
.mode-switch span { color: var(--muted); }

.content-page {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
  align-content: start;
}
.page-head,.full-span { grid-column: 1 / -1; }
.panel {
  border-radius: 14px;
  padding: 12px;
  position: relative;
  overflow: hidden;
  background:
    linear-gradient(180deg, rgba(8,12,17,.86), rgba(7,9,13,.78)),
    repeating-linear-gradient(90deg, rgba(255,255,255,.018) 0 1px, transparent 1px 21px);
}
.panel::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent, rgba(82,201,255,.08), transparent);
  pointer-events: none;
}
.panel h2 { margin-top: 0; letter-spacing: .08em; text-transform: uppercase; font-size: .92rem; }
.panel-heading { display: flex; justify-content: space-between; align-items: center; gap: 8px; }
.panel-heading a { color: var(--accent-2); text-decoration: none; }

.list { list-style: none; margin: 0; padding: 0; display: grid; gap: 8px; }
.list li { border: 1px solid rgba(126,152,181,.28); border-radius: 10px; padding: 10px; display:flex; justify-content:space-between; gap:10px; background: rgba(4,8,12,.5); }
.list.compact li { align-items:center; }
.badge-income { color: var(--good); }
.badge-expense { color: var(--bad); }

.stack-form { display: grid; gap: 10px; }
.grid-form { display:grid; grid-template-columns: repeat(2,minmax(150px,1fr)); gap: 10px; }
.metric-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(170px,1fr)); gap: 8px; }
.metric-box { border: 1px solid rgba(126,152,181,.28); border-radius: 10px; padding: 10px; background: rgba(4,8,12,.4); }
.bar-list { display:grid; gap: 8px; }
.bar-track { height: 8px; border: 1px solid rgba(126,152,181,.28); border-radius: 999px; overflow:hidden; background: rgba(255,255,255,.04); }
.bar-fill { height:100%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
.trend-chart { display:flex; align-items:end; gap: 6px; min-height: 220px; padding-bottom: 16px; }
.trend-bar { flex:1; border-radius: 8px 8px 2px 2px; background: linear-gradient(180deg, var(--accent-2), var(--accent)); position: relative; }
.trend-bar span { position:absolute; bottom:-15px; left:50%; transform: translateX(-50%); font-size:.7rem; color: var(--muted); }

.filter-row { display:flex; gap: 8px; margin-bottom: 8px; }
.table-wrap { overflow:auto; border: 1px solid rgba(126,152,181,.28); border-radius:10px; background: rgba(4,8,12,.42); }
table { width:100%; border-collapse: collapse; }
th,td { padding: 9px; text-align:left; border-bottom: 1px solid rgba(126,152,181,.2); }
th { text-transform: uppercase; letter-spacing: .08em; font-size: .72rem; color: var(--muted); }

@media (max-width: 980px) {
  .meta-grid,.grid-form { grid-template-columns: 1fr; }
  .meta-item.wide { grid-column: auto; }
  .amount-stage { min-height: 180px; }
  .amount-stage::before { inset: 14% 5%; }
}
